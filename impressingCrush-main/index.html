<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ✅ Mobile scaling -->
  <title>Happy Birthday Sister ❤️</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Short+Stack&amp;family=Homemade+Apple&amp;display=swap'>
  <link rel="stylesheet" href="./style.css">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
    }

    img {
      max-width: 100%; /* ✅ Responsive images */
      height: auto;
    }
  </style>
</head>
<body>
<!-- A pen by Developer Rahul  -->

<div class="paper heart"></div>

<div class="paper image">
  <p> And I feel so lucky </p>
  <p> to have You as my Sister ❤️ </p>
  <img src="images/1.jpeg" />
</div>

<div class="paper image">
  <p></p>
  <img src="images/2.jpeg" />
</div>

<div class="paper image">
  <p>You are not just cute </p>
  <p>You are my blessing 😇 </p>
  <img src="images/3.jpg" />
</div>

<div class="paper red">
  <p class="p1"> You will always be </p>
  <p class="p2">My Favorite Sister ❤️</p>
</div>

<div class="paper">
  <p class="p1">You are Amazing, </p>
  <p class="p1">Caring and Lovely 💖</p>
</div>

<div class="paper">
  <p class="p1">Drag the papers to move!</p>
</div>

<!-- ✅ Background Music -->
<audio id="bg-music" src="music.mp3" autoplay loop preload="auto"></audio>

<script src="./script.js"></script>

<script>
  // ✅ Add mobile drag support
  document.querySelectorAll(".paper").forEach(paper => {
    let isDragging = false, offsetX = 0, offsetY = 0;

    function getXY(e) {
      if (e.touches && e.touches.length > 0) {
        return { x: e.touches[0].clientX, y: e.touches[0].clientY };
      } else {
        return { x: e.clientX, y: e.clientY };
      }
    }

    function startDrag(e) {
      isDragging = true;
      const pos = getXY(e);
      offsetX = pos.x - paper.offsetLeft;
      offsetY = pos.y - paper.offsetTop;
      paper.style.position = "absolute";
      paper.style.zIndex = 999;
      e.preventDefault();
    }

    function doDrag(e) {
      if (!isDragging) return;
      const pos = getXY(e);
      paper.style.left = (pos.x - offsetX) + "px";
      paper.style.top = (pos.y - offsetY) + "px";
      e.preventDefault();
    }

    function stopDrag() {
      isDragging = false;
    }

    // Mouse events
    paper.addEventListener("mousedown", startDrag);
    window.addEventListener("mousemove", doDrag);
    window.addEventListener("mouseup", stopDrag);

    // Touch events
    paper.addEventListener("touchstart", startDrag);
    window.addEventListener("touchmove", doDrag);
    window.addEventListener("touchend", stopDrag);
  });

  // ✅ Background Music Autoplay + Fallback
  (function(){
    const audio = document.getElementById('bg-music');
    audio.volume = 0.5;

    // fallback: agar autoplay block ho jaye to user ke pehle click pe play ho
    function userInteractionHandler() {
      if (audio.paused) {
        audio.play().catch(()=>{});
      }
      document.removeEventListener('click', userInteractionHandler);
    }
    document.addEventListener('click', userInteractionHandler);
  })();
</script>

</body>
</html>
